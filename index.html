<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Haraldsted Honey - Pure, Natural Honey</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400..700;1,400..700&family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
    
    <!-- Custom Styles -->
    <style>
        /* Define custom color palette and fonts */
        :root {
            --amber: #FFBF00;
            --gold: #D4AF37;
            --cream: #F5F5DC;
            --charcoal: #36454F;
            --forest-green: #228B22;
        }

        body {
            font-family: 'Open Sans', sans-serif;
            color: var(--charcoal);
        }

        h1, h2, h3, h4, .font-serif {
            font-family: 'Lora', serif;
        }
        
        /* Hero section styles */
        .hero-section {
            /* NOTE: Using a relative path for the background image */
            background-image: url('images/Land.JPEG');
            background-size: cover;
            background-position: center;
            background-attachment: fixed; /* Parallax effect */
        }
        
        .hero-overlay {
            background-color: rgba(0, 0, 0, 0.4);
        }

        /* Animation for fade-in on scroll */
        .fade-in-section {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }

        .fade-in-section.is-visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Custom style to ensure the charcoal color is defined for the button base state */
        .add-to-cart-btn {
            background-color: var(--charcoal);
        }

    </style>
</head>
<body class="bg-white">

    <!-- Header & Navigation (Sticky Buy Now Button and Cart Icon Added) -->
    <header class="bg-white/80 backdrop-blur-md sticky top-0 z-50 shadow-lg">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#">
                <!-- EDITED: Using a placeholder PNG path -->
                <img src="images/logo2.png" alt="Haraldsted Honning Logo" class="h-12">
            </a>
            
            <!-- Desktop Navigation -->
            <nav class="hidden md:flex items-center space-x-8">
                <a href="#story" class="text-gray-600 hover:text-amber-600 transition duration-300">Our Story</a>
                <a href="#flora" class="text-gray-600 hover:text-amber-600 transition duration-300">Local Flora</a>
                <a href="#process" class="text-gray-600 hover:text-amber-600 transition duration-300">The Process</a>
                <a href="#products" class="text-gray-600 hover:text-amber-600 transition duration-300">Our Honey</a>
                <a href="#contact" class="text-gray-600 hover:text-amber-600 transition duration-300">Contact</a>
                
                <!-- NEW: Buy Now Button -->
                <a href="#products" class="ml-4 px-5 py-2 bg-yellow-500 hover:bg-yellow-600 text-white font-semibold rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105">
                    Buy Now
                </a>
                
                <!-- NEW: Cart Icon (Desktop) -->
                <button id="cart-button-desktop" class="relative text-gray-600 hover:text-amber-600 transition duration-300 p-2 rounded-full hover:bg-gray-100">
                    <!-- Shopping Cart SVG -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6"><circle cx="8" cy="21" r="1"/><circle cx="19" cy="21" r="1"/><path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.72a2 2 0 0 0 2-1.58L23 6H6"/></svg>
                    <span id="cart-count-desktop" class="absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full hidden">0</span>
                </button>
            </nav>

            <!-- Mobile Menu Toggle and Buy Now Button for Mobile -->
            <div class="flex items-center space-x-4 md:hidden">
                <!-- NEW: Buy Now Button (Mobile) -->
                <a href="#products" class="px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-white text-sm font-semibold rounded-full shadow-md transition duration-300 ease-in-out">
                    Buy Now
                </a>
                
                <!-- NEW: Cart Icon (Mobile) -->
                <button id="cart-button-mobile" class="relative text-gray-800 p-1 rounded-full hover:bg-gray-100">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6"><circle cx="8" cy="21" r="1"/><circle cx="19" cy="21" r="1"/><path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.72a2 2 0 0 0 2-1.58L23 6H6"/></svg>
                    <span id="cart-count-mobile" class="absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full hidden">0</span>
                </button>
                
                <button id="mobile-menu-button" class="text-gray-800">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
                    </svg>
                </button>
            </div>
        </div>

         <!-- Mobile Menu Drawer -->
        <div id="mobile-menu" class="hidden md:hidden px-6 pb-4 border-t border-gray-200">
            <a href="#story" class="block py-2 text-gray-600 hover:text-amber-600">Our Story</a>
            <a href="#flora" class="block py-2 text-gray-600 hover:text-amber-600">Local Flora</a>
            <a href="#process" class="block py-2 text-gray-600 hover:text-amber-600">The Process</a>
            <a href="#products" class="block py-2 text-gray-600 hover:text-amber-600">Our Honey</a>
            <a href="#contact" class="block py-2 text-gray-600 hover:text-amber-600">Contact</a>
        </div>
    </header>

    <main>

        <!-- 1. Hero Section -->
        <section id="home" class="hero-section h-screen flex items-center justify-center text-white text-center">
            <div class="hero-overlay w-full h-full flex flex-col items-center justify-center p-6">
                <h1 class="text-5xl md:text-7xl font-bold tracking-wider leading-tight">Haraldsted Honey</h1>
                <p class="mt-4 text-xl md:text-2xl font-serif">Pure, Natural Honey from Our Local Hives</p>
                <a href="#products" class="mt-8 px-8 py-3 bg-yellow-500 hover:bg-yellow-600 text-white font-semibold rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105">
                    Explore Our Honey
                </a>
            </div>
        </section>

        <!-- 2. About Us / Our Story Section -->
        <section id="story" class="py-20 bg-cream-50 fade-in-section">
            <div class="container mx-auto px-6">
                <div class="grid md:grid-cols-2 gap-12 items-center">
                    <div class="text-center md:text-left">
                        <h2 class="text-4xl font-bold mb-4">From Our Hives to Your Home</h2>
                        <p class="text-gray-600 leading-relaxed mb-6">
                            Nestled by the serene lake of Haraldsted, our apiary thrives amidst lush meadows, vast forests and wild flora. Haraldsted Honning is more than a product; it’s a story of passion, patience, and a deep respect for nature's most diligent artisans: the honeybee. We practice sustainable beekeeping, looking after our bees as we would any other livestock,  ensuring our bees are healthy and the local ecosystem is nurtured. Every jar is a taste of the pristine Danish landscape, packaged with care and dedication.
                        </p>
                        <blockquote class="border-l-4 border-yellow-500 pl-4 italic text-gray-500">
                            "Look deep into nature, and then you will understand everything better."
                        </blockquote>
                    </div>
                    <div>
                        <img src="images/beeworkers.JPEG" alt="Beekeepers working in a field" class="rounded-lg shadow-xl w-full h-auto object-cover">
                    </div>
                </div>
            </div>
        </section>

        <!-- NEW: Local Flora Section -->
        <section id="flora" class="py-20 fade-in-section">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-4xl font-bold mb-4">The Source of Our Sweetness</h2>
                <p class="max-w-3xl mx-auto text-gray-600 mb-12">
                    The unique, complex flavors of our honey come from the rich diversity of flora surrounding our hives. Each season, our bees gather nectar from a symphony of blossoms, creating a honey that is a true reflection of the Haraldsted landscape.
                </p>

                <!-- Spring Flora -->
                <div class="mb-16">
                    <h3 class="text-3xl font-serif font-semibold mb-8">Spring Blooms</h3>
                    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6">
                        <div class="flex flex-col items-center text-center">
                            <img src="images/hawthorn.JPEG" alt="Hawthorn blossoms" class="rounded-full shadow-lg w-32 h-32 object-cover mb-4">
                            <h4 class="text-xl font-serif font-semibold mb-2">Hawthorn</h4>
                            <p class="text-gray-600 text-sm">Adds a delicate, nutty sweetness with a pleasant hint of almonds.</p>
                        </div>
                        <div class="flex flex-col items-center text-center">
                            <img src="images/apple.JPEG" alt="Apple blossoms" class="rounded-full shadow-lg w-32 h-32 object-cover mb-4">
                            <h4 class="text-xl font-serif font-semibold mb-2">Apple</h4>
                            <p class="text-gray-600 text-sm">Lends a light, fruity, and fresh aroma with a very mild, sweet taste.</p>
                        </div>
                        <div class="flex flex-col items-center text-center">
                            <img src="images/dandy2.JPEG" alt="Dandelion flowers" class="rounded-full shadow-lg w-32 h-32 object-cover mb-4">
                            <h4 class="text-xl font-serif font-semibold mb-2">Dandelion</h4>
                            <p class="text-gray-600 text-sm">Contributes a surprisingly bold, tangy flavor with a sharp, citrus-like finish.</p>
                        </div>
                        <div class="flex flex-col items-center text-center">
                            <img src="images/Rapeseed2.JPEG" alt="Rapeseed flowers" class="rounded-full shadow-lg w-32 h-32 object-cover mb-4">
                            <h4 class="text-xl font-serif font-semibold mb-2">Rapeseed</h4>
                            <p class="text-gray-600 text-sm">Creates a creamy honey with a mild, slightly peppery sweetness.</p>
                        </div>
                        <div class="flex flex-col items-center text-center">
                            <img src="images/lilac.JPEG" alt="Lilac blossoms" class="rounded-full shadow-lg w-32 h-32 object-cover mb-4">
                            <h4 class="text-xl font-serif font-semibold mb-2">Lilac</h4>
                            <p class="text-gray-600 text-sm">Offers a delicate, aromatic floral taste with a hint of spice.</p>
                        </div>
                        <div class="flex flex-col items-center text-center">
                            <img src="images/woodland.JPEG" alt="Woodland flowers like wood anemone" class="rounded-full shadow-lg w-32 h-32 object-cover mb-4">
                            <h4 class="text-xl font-serif font-semibold mb-2">Woodland Flowers</h4>
                            <p class="text-gray-600 text-sm">From flowers like wood anemone, adding a delicate, earthy floral note.</p>
                        </div>
                    </div>
                </div>

                <!-- Summer Flora -->
                <div>
                    <h3 class="text-3xl font-serif font-semibold mb-8">Summer Blooms</h3>
                    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6">
                        <div class="flex flex-col items-center text-center">
                            <img src="images/wildflowers.JPEG" alt="Summer wildflowers" class="rounded-full shadow-lg w-32 h-32 object-cover mb-4">
                            <h4 class="text-xl font-serif font-semibold mb-2">Wildflower</h4>
                            <p class="text-gray-600 text-sm">A classic flavour, balanced taste from a blend of seasonal flowers.</p>
                        </div>
                        <div class="flex flex-col items-center text-center">
                            <img src="images/Lindon.JPEG" alt="Linden blossoms" class="rounded-full shadow-lg w-32 h-32 object-cover mb-4">
                            <h4 class="text-xl font-serif font-semibold mb-2">Linden</h4>
                            <p class="text-gray-600 text-sm">Aromatic with a fresh, woody taste and distinctive minty notes.</p>
                        </div>
                        <div class="flex flex-col items-center text-center">
                            <img src="images/clover.JPEG" alt="Clover blossoms" class="rounded-full shadow-lg w-32 h-32 object-cover mb-4">
                            <h4 class="text-xl font-serif font-semibold mb-2">Clover</h4>
                            <p class="text-gray-600 text-sm">The quintessential honey flavor: sweet, mild, and pleasantly clean.</p>
                        </div>
                        <div class="flex flex-col items-center text-center">
                            <img src="images/sunflower2.JPEG" alt="Sunflower blossoms" class="rounded-full shadow-lg w-32 h-32 object-cover mb-4">
                            <h4 class="text-xl font-serif font-semibold mb-2">Sunflower</h4>
                            <p class="text-gray-600 text-sm">Adds a bright, golden colour with a distinct floral and citrusy taste.</p>
                        </div>
                        <div class="flex flex-col items-center text-center">
                            <img src="images/lavender.JPEG" alt="Lavender blossoms" class="rounded-full shadow-lg w-32 h-32 object-cover mb-4">
                            <h4 class="text-xl font-serif font-semibold mb-2">Lavender</h4>
                            <p class="text-gray-600 text-sm">Adds a unique, aromatic honey with distinct floral and soothing notes.</p>
                        </div>
                        <div class="flex flex-col items-center text-center">
                            <img src="images/tree.JPEG" alt="Tree blossoms" class="rounded-full shadow-lg w-32 h-32 object-cover mb-4">
                            <h4 class="text-xl font-serif font-semibold mb-2">Tree Blossoms</h4>
                            <p class="text-gray-600 text-sm">A variety of tree blossom from the surrounding forests contributing a nutty flavor to the honey.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 3. The Process Section -->
        <section id="process" class="py-20 bg-cream-50 fade-in-section">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-4xl font-bold mb-12">The Art of Beekeeping</h2>
                <div class="grid md:grid-cols-3 gap-8">
                    <!-- Stage 1 -->
                    <div class="flex flex-col items-center">
                        <img src="images/BuckfastQueen.JPEG" alt="Beekeeper holding a honeycomb frame with bees" class="rounded-lg shadow-lg w-full h-64 object-cover mb-4">
                        <h3 class="text-2xl font-serif font-semibold mb-2">The Active Hive</h3>
                        <p class="text-gray-600">Our bees forage on local wildflowers, creating a honey that is unique to the season and the landscape.</p>
                    </div>
                    <!-- Stage 2 -->
                    <div class="flex flex-col items-center">
                        <img src="images/honeyframe.JPEG" alt="Bees in jars with honeycomb" class="rounded-lg shadow-lg w-full h-64 object-cover mb-4">
                        <h3 class="text-2xl font-serif font-semibold mb-2">A Light Touch</h3>
                        <p class="text-gray-600">We lightly filter the harvested honey, preserving its natural structure and potent flavours.</p>
                    </div>
                    <!-- Stage 3 -->
                    <div class="flex flex-col items-center">
                         <img src="images/bertcomb.JPEG" alt="Person working with honeycomb" class="rounded-lg shadow-lg w-full h-64 object-cover mb-4">
                        <h3 class="text-2xl font-serif font-semibold mb-2">Careful Handling</h3>
                        <p class="text-gray-600">Each jar is prepared by hand, unpasturised and packed with care, ensuring the highest quality from our hives to your home.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 4. Our Honey / Products Section (The target for the Buy Now button) -->
        <section id="products" class="py-20 bg-cream-50 fade-in-section">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-4xl font-bold mb-4">Taste the Essence of Haraldsted</h2>
                <p class="max-w-3xl mx-auto text-gray-600 mb-12">
                    Experience the pure, unadulterated flavor of nature, delivered straight from our hives to your table. Each jar of Haraldsted Honey is a testament to our bees' hard work and the pristine beauty of our local landscape. We proudly ship our honey directly to your door, that is if you are in Denmark! We are exploring the possibilites to ship elsewhere in the future...
                </p>
                <div class="grid md:grid-cols-2 gap-8 max-w-4xl mx-auto">
                    <!-- Product 1: Spring Blossom Honey -->
                    <div class="bg-white rounded-lg shadow-lg overflow-hidden transform hover:-translate-y-2 transition-transform duration-300">
                        <img src="images/gold1.JPEG" alt="Jar of Spring Honey" class="w-full h-64 object-cover">
                        <div class="p-6 text-left">
                            <h3 class="text-2xl font-serif font-semibold mb-2">Spring Blossom Honey</h3>
                            <p class="text-gray-600 mb-4">One 450g jar of light, delicate honey from the first blossoms of the year. Notes of apple, hawthorn, and dandelion give it a fresh, floral taste.</p>
                            <div class="flex justify-between items-center">
                                <span class="text-xl font-bold">50 DKK + shipping (to Denmark only)</span>
                                <!-- Price updated to 50 in JS call -->
                                <button onclick="addToCart('P1', 'Spring Blossom Honey', 50, this)" class="px-6 py-2 add-to-cart-btn text-white rounded-md hover:bg-amber-600 transition-all duration-300">Add to Cart</button>
                            </div>
                        </div>
                    </div>
                    <!-- Product 2: Summer Wildflower Honey -->
                    <div class="bg-white rounded-lg shadow-lg overflow-hidden transform hover:-translate-y-2 transition-transform duration-300">
                        <img src="images/summergold.JPEG" alt="Jar of Summer Honey" class="w-full h-64 object-cover">
                        <div class="p-6 text-left">
                            <h3 class="text-2xl font-serif font-semibold mb-2">Summer Wildflower Honey</h3>
                            <p class="text-gray-600 mb-4">One 450g jar of rich and aromatic honey capturing the essence of summer meadows. A complex, classic taste from a blend of seasonal wildflowers.</p>
                            <div class="flex justify-between items-center">
                                <span class="text-xl font-bold">50 DKK + shipping (to Denmark only)</span>
                                <!-- Price updated to 50 in JS call -->
                                <button onclick="addToCart('P2', 'Summer Wildflower Honey', 50, this)" class="px-6 py-2 add-to-cart-btn text-white rounded-md hover:bg-amber-600 transition-all duration-300">Add to Cart</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- NEW: Shipping Rate Summary Table -->
                <div class="mt-16 max-w-2xl mx-auto p-6 bg-white rounded-lg shadow-lg border border-yellow-200">
                    <h3 class="text-2xl font-serif font-semibold mb-4 text-left border-b pb-2 border-yellow-300">Shipping Rates (Denmark Only)</h3>
                    <p class="text-sm text-gray-500 mb-4 text-left">Maximum purchase is 6 jars. Shipping cost is determined by the total number of jars in your order.</p>

                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-gray-200 text-left text-sm">
                            <thead class="bg-yellow-50">
                                <tr>
                                    <th scope="col" class="px-4 py-3 font-semibold text-gray-700 uppercase tracking-wider rounded-tl-lg">Jars Bought</th>
                                    <th scope="col" class="px-4 py-3 font-semibold text-gray-700 uppercase tracking-wider">Postpakke Collect</th>
                                    <th scope="col" class="px-4 py-3 font-semibold text-gray-700 uppercase tracking-wider rounded-tr-lg">Postpakke Home</th>
                                </tr>
                            </thead>
                            <tbody class="bg-white divide-y divide-gray-200">
                                <tr class="hover:bg-yellow-50">
                                    <td class="px-4 py-3 font-medium">1 Jar</td>
                                    <td class="px-4 py-3">45 Kr</td>
                                    <td class="px-4 py-3">60 Kr</td>
                                </tr>
                                <tr class="hover:bg-yellow-50">
                                    <td class="px-4 py-3 font-medium">2 Jars</td>
                                    <td class="px-4 py-3">55 Kr</td>
                                    <td class="px-4 py-3">70 Kr</td>
                                </tr>
                                <tr class="bg-yellow-100/50 hover:bg-yellow-100">
                                    <td class="px-4 py-3 font-medium">3 - 6 Jars (Max)</td>
                                    <td class="px-4 py-3">80 Kr</td>
                                    <td class="px-4 py-3">95 Kr</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>
        
    </main>
    
    <!-- 6. Contact & Footer -->
    <footer id="contact" class="bg-gray-800 text-white">
        <div class="container mx-auto px-6 py-12">
            <div class="grid md:grid-cols-3 gap-8 text-center md:text-left">
                <!-- Contact Info -->
                <div class="flex flex-col items-center md:items-start">
                    <!-- EDITED: Using a placeholder PNG path -->
                    <img src="images/logo2.png" onerror="this.src='images/logo2.png'" alt="Haraldsted Honning Logo" class="h-10 mb-4">
                    <p class="text-gray-400">Haraldsted, 4100 Ringsted</p>
                    <p class="text-gray-400">Denmark</p>
                    <a href="mailto:info@haraldstedhoney.com" class="text-gray-400 hover:text-yellow-400 transition-colors duration-300">info@haraldstedhoney.com</a>
                </div>
                <!-- Social & Links -->
                <div>
                     <h4 class="text-xl font-serif font-semibold mb-4">Follow Us</h4>
                     <div class="flex justify-center md:justify-start space-x-4 mb-4">
                        <a href="#" class="text-gray-400 hover:text-white"><svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" clip-rule="evenodd" /></svg></a>
                        <a href="#" class="text-gray-400 hover:text-white"><svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.024.06 1.378.06 3.808s-.012 2.784-.06 3.808c-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.024.048-1.378.06-3.808.06s-2.784-.012-3.808-.06c-1.064-.049-1.791.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.048-1.024-.06-1.378-.06-3.808s.012-2.784.06-3.808c.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 016.345 2.525c.636-.247 1.363-.416 2.427-.465C9.793 2.013 10.147 2 12.315 2zm-1.116 2.913a.904.904 0 10-1.808 0 .904.904 0 001.808 0zM12 6.865a5.135 5.135 0 100 10.27 5.135 5.135 0 000-10.27zm0 1.808a3.327 3.327 0 110 6.654 3.327 3.327 0 010-6.654z" clip-rule="evenodd" /></svg></a>
                     </div>
                     <a href="#" class="text-gray-400 hover:text-yellow-400">Privacy Policy</a> | <a href="#" class="text-gray-400 hover:text-yellow-400">Terms of Service</a>
                </div>
                <!-- Newsletter -->
                <div>
                    <h4 class="text-xl font-serif font-semibold mb-4">Join Our Newsletter</h4>
                    <p class="text-gray-400 mb-4">Get updates on the harvest, special offers, and news from our hives.</p>
                    <form class="flex">
                        <input type="email" placeholder="Your email" class="w-full rounded-l-md px-4 py-2 text-gray-800 focus:outline-none" required>
                        <button type="submit" class="bg-yellow-500 hover:bg-yellow-600 text-white font-semibold px-4 py-2 rounded-r-md">Subscribe</button>
                    </form>
                </div>
            </div>
            <div class="mt-12 pt-8 border-t border-gray-700 text-center text-gray-500">
                <p>&copy; 2025 Haraldsted Honning. All Rights Reserved.</p>
            </div>
        </div>
    </footer>
    
    <!-- Shopping Cart Drawer/Modal (NEW) -->
    <div id="cart-drawer" class="fixed inset-0 z-[100] transform translate-x-full transition-transform duration-300 ease-in-out" role="dialog" aria-modal="true" aria-labelledby="cart-title">
        <!-- Overlay (Click to close cart) -->
        <div class="absolute inset-0 bg-gray-900 bg-opacity-50" onclick="toggleCart()"></div>
        
        <!-- Drawer Content -->
        <div class="fixed top-0 right-0 w-full md:w-96 h-full bg-white shadow-2xl p-6 flex flex-col">
            
            <!-- Header -->
            <div class="flex justify-between items-center pb-4 border-b border-gray-200">
                <h3 id="cart-title" class="text-2xl font-serif font-bold">Your Cart</h3>
                <button onclick="toggleCart()" class="text-gray-500 hover:text-gray-800 p-2 rounded-full hover:bg-gray-100 transition" aria-label="Close cart">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
                </button>
            </div>
            
            <!-- Cart Items -->
            <div id="cart-items-container" class="flex-grow overflow-y-auto py-4 space-y-4">
                <!-- Cart items will be rendered here by JS -->
                <p id="empty-cart-message" class="text-center text-gray-500 italic">Your hive is empty!</p>
            </div>
            
            <!-- Footer / Totals & Checkout (UPDATED) -->
            <div class="pt-4 border-t border-gray-200">
                <div class="pt-2 pb-4 bg-yellow-50 rounded-lg mb-4 border border-yellow-200 p-3">
                    <div class="flex justify-between mb-2">
                        <span class="text-sm text-gray-600">Subtotal:</span>
                        <span id="cart-subtotal" class="text-sm font-semibold text-charcoal">0 DKK</span>
                    </div>
                    <hr class="border-yellow-200 mb-2">
                    
                    <!-- Shipping Selector (NEW) -->
                    <label for="shipping-select" class="block text-sm font-medium text-gray-700 mb-1">Shipping Method (Denmark):</label>
                    <select id="shipping-select" onchange="selectShipping(this.value)" class="w-full p-2 border border-yellow-300 rounded-md bg-white text-gray-700 focus:ring-yellow-500 focus:border-yellow-500">
                        <!-- Options populated by JS -->
                    </select>

                    <div class="flex justify-between mt-2">
                        <span class="text-sm text-gray-600">Shipping Cost:</span>
                        <span id="shipping-cost-display" class="text-sm font-semibold text-charcoal">0 DKK</span>
                    </div>

                </div>
                
                <div class="flex justify-between items-center mb-4">
                    <span class="text-xl font-bold">Total:</span>
                    <span id="cart-total" class="text-2xl font-bold text-yellow-600">0 DKK</span>
                </div>

                <button class="w-full py-3 bg-yellow-500 hover:bg-yellow-600 text-white font-semibold rounded-lg shadow-lg transition duration-300 ease-in-out transform hover:scale-[1.01]">
                    Proceed to Checkout
                </button>
            </div>
        </div>
    </div>
    
    <script>
        // Simple script for mobile menu toggle
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        // Simple script for fade-in animations on scroll
        const sections = document.querySelectorAll('.fade-in-section');
        const observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                    observer.unobserve(entry.target);
                }
            });
        }, {
            threshold: 0.1
        });

        sections.forEach(section => {
            observer.observe(section);
        });


        // ------------------------------------------------------------------
        // NEW SHOPPING CART LOGIC
        // ------------------------------------------------------------------

        let cart = [];
        
        // Define shipping rates based on quantity tiers (Max 6 Jars)
        // UPDATED: Specific rates for 1 jar, 2 jars, and 3-6 jars.
        const SHIPPING_TIERS = [
            // Tier 1: 1 Jar
            { maxQuantity: 1, collect: 45, home: 60 },
            // Tier 2: 2 Jars
            { maxQuantity: 2, collect: 55, home: 70 },
            // Tier 3: 3 - 6 Jars (Max purchase is 6)
            { maxQuantity: 6, collect: 80, home: 95 }
        ];
        
        const MAX_PURCHASE_QUANTITY = 6; // Hard limit set by the user

        let selectedShippingKey = 'collect'; // Default selection
        const SHIPPING_STORAGE_KEY = 'haraldstedHoneyShipping';
        const CART_STORAGE_KEY = 'haraldstedHoneyCart';


        // Utility to save cart (and shipping) to localStorage
        function saveCart() {
            try {
                localStorage.setItem(CART_STORAGE_KEY, JSON.stringify(cart));
                localStorage.setItem(SHIPPING_STORAGE_KEY, selectedShippingKey);
            } catch (e) {
                console.error("Could not save cart/shipping to localStorage:", e);
            }
        }

        // Utility to load cart (and shipping) from localStorage
        function loadCart() {
            try {
                const storedCart = localStorage.getItem(CART_STORAGE_KEY);
                if (storedCart) {
                    cart = JSON.parse(storedCart);
                }
                const storedShipping = localStorage.getItem(SHIPPING_STORAGE_KEY);
                if (storedShipping) {
                    selectedShippingKey = storedShipping;
                }
            } catch (e) {
                console.error("Could not load cart/shipping from localStorage:", e);
            }
            updateCartUI();
        }

        /**
         * Calculates the total number of items in the cart.
         * @returns {number} Total quantity of all items.
         */
        function getTotalQuantity() {
            return cart.reduce((total, item) => total + item.quantity, 0);
        }

        /**
         * Determines the current shipping cost based on the total quantity and selected method.
         * @returns {number} The current shipping cost in DKK.
         */
        function getShippingCost() {
            const totalQuantity = getTotalQuantity();

            if (totalQuantity === 0) {
                // If cart is empty, shipping cost is 0
                return 0;
            }

            // Find the correct tier by iterating through tiers until quantity is met
            const tier = SHIPPING_TIERS.find(t => totalQuantity <= t.maxQuantity);

            // Use the cost based on the selected method ('collect' or 'home')
            if (tier && tier[selectedShippingKey] !== undefined) {
                return tier[selectedShippingKey];
            }

            // Fallback: This should ideally not be reached if MAX_PURCHASE_QUANTITY is 6
            const maxTier = SHIPPING_TIERS[SHIPPING_TIERS.length - 1];
            return maxTier[selectedShippingKey] || 0;
        }


        // Function to handle shipping selection change
        function selectShipping(key) {
            if (key === 'collect' || key === 'home') {
                selectedShippingKey = key;
                saveCart();
                updateCartUI(); // Update UI with new shipping cost
            } else {
                console.error("Invalid shipping key selected:", key);
            }
        }

        // Renders the cart contents in the drawer and updates the counts
        function updateCartUI() {
            const container = document.getElementById('cart-items-container');
            const subtotalElement = document.getElementById('cart-subtotal');
            const totalElement = document.getElementById('cart-total');
            const emptyMessage = document.getElementById('empty-cart-message');
            const cartCountDesktop = document.getElementById('cart-count-desktop');
            const cartCountMobile = document.getElementById('cart-count-mobile');
            const shippingSelect = document.getElementById('shipping-select'); 
            const shippingCostDisplay = document.getElementById('shipping-cost-display');
            
            let subtotal = 0;
            const totalItems = getTotalQuantity(); // Use the getter function
            const isCartFull = totalItems >= MAX_PURCHASE_QUANTITY; // Check against max limit

            // Calculate current subtotal
            cart.forEach(item => {
                subtotal += item.price * item.quantity;
            });

            const currentShippingCost = getShippingCost(); // Use the dynamic function
            const finalTotal = subtotal + currentShippingCost;

            // Handle empty cart state
            if (cart.length === 0) {
                if (container) container.innerHTML = '';
                if (emptyMessage) emptyMessage.style.display = 'block';
                
                // Explicitly reset totals and badges when cart is empty
                if (subtotalElement) subtotalElement.textContent = `0 DKK`;
                if (totalElement) totalElement.textContent = `0 DKK`;
                if (shippingCostDisplay) shippingCostDisplay.textContent = `0 DKK`; // Shipping is 0 when cart is empty

                if (cartCountDesktop) {
                    cartCountDesktop.classList.add('hidden');
                    cartCountDesktop.textContent = 0;
                }
                if (cartCountMobile) {
                    cartCountMobile.classList.add('hidden');
                    cartCountMobile.textContent = 0;
                }

            } else {
                if (emptyMessage) emptyMessage.style.display = 'none';
                
                let html = '';

                cart.forEach(item => {
                    const itemTotal = item.price * item.quantity;
                    
                    // Determine if the increase button should be disabled for this item
                    const isIncreaseDisabledForButton = isCartFull ? 'disabled' : '';
                    const increaseButtonClasses = isCartFull ? 'bg-gray-300 cursor-not-allowed' : 'border-gray-300 hover:bg-gray-200';

                    html += `
                        <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg shadow-sm">
                            <!-- Item Info -->
                            <div class="flex-grow">
                                <h4 class="font-semibold text-gray-800">${item.name}</h4>
                                <p class="text-sm text-gray-500">${item.price} DKK each</p>
                            </div>
                            
                            <!-- Quantity Controls -->
                            <div class="flex items-center space-x-3 text-gray-700 mx-4">
                                <button onclick="changeQuantity('${item.id}', -1)" class="w-6 h-6 flex items-center justify-center border border-gray-300 rounded-full hover:bg-gray-200 transition text-lg leading-none" aria-label="Decrease ${item.name} quantity">-</button>
                                <span class="font-bold">${item.quantity}</span>
                                <button ${isIncreaseDisabledForButton} onclick="changeQuantity('${item.id}', 1)" class="w-6 h-6 flex items-center justify-center border ${increaseButtonClasses} transition text-lg leading-none" aria-label="Increase ${item.name} quantity">+</button>
                            </div>

                            <!-- Total Price & Remove -->
                            <div class="text-right flex flex-col items-end">
                                <p class="font-bold text-sm">${itemTotal} DKK</p>
                                <button onclick="removeItem('${item.id}')" class="text-xs text-red-500 hover:text-red-700 transition mt-1" aria-label="Remove ${item.name}">Remove</button>
                            </div>
                        </div>
                    `;
                });

                if (container) container.innerHTML = html;
                
                // Populate Shipping Options
                if (shippingSelect) {
                    shippingSelect.innerHTML = '';
                    
                    // Since the cost is dynamic, we display the current tier's cost in the option text for clarity
                    const collectCost = getShippingCostForMethod('collect', totalItems);
                    const homeCost = getShippingCostForMethod('home', totalItems);
                    
                    const shippingOptions = [
                        { key: 'collect', name: 'Postpakke Collect', cost: collectCost },
                        { key: 'home', name: 'Postpakke Home', cost: homeCost }
                    ];

                    let shippingHtml = '';
                    shippingOptions.forEach(option => {
                        const selected = option.key === selectedShippingKey ? 'selected' : '';
                        shippingHtml += `<option value="${option.key}" ${selected}>${option.name} (${option.cost} DKK)</option>`;
                    });
                    shippingSelect.innerHTML = shippingHtml;
                }
                
                // Render totals
                if (subtotalElement) subtotalElement.textContent = `${subtotal} DKK`;
                if (shippingCostDisplay) shippingCostDisplay.textContent = `${currentShippingCost} DKK`;
                if (totalElement) totalElement.textContent = `${finalTotal} DKK`;
                
                // Update cart badges
                if (cartCountDesktop) {
                    cartCountDesktop.textContent = totalItems;
                    cartCountDesktop.classList.remove('hidden');
                }
                if (cartCountMobile) {
                    cartCountMobile.textContent = totalItems;
                    cartCountMobile.classList.remove('hidden');
                }
            }
        }

        /**
         * Helper function to get the shipping cost for a specific method and quantity.
         */
        function getShippingCostForMethod(methodKey, quantity) {
            // Find the correct tier based on the provided quantity
            const tier = SHIPPING_TIERS.find(t => quantity <= t.maxQuantity);
            
            // Return the cost for the specified method, or 0 if not found
            if (tier && tier[methodKey] !== undefined) {
                return tier[methodKey];
            }
            return 0;
        }

        // Function to add a product to the cart (checks against MAX_PURCHASE_QUANTITY)
        function addToCart(id, name, price, buttonElement) {
            price = parseFloat(price);
            
            const totalQuantity = getTotalQuantity();
            const newTotalQuantity = totalQuantity + 1; // Attempting to add 1 jar

            if (newTotalQuantity > MAX_PURCHASE_QUANTITY) {
                console.warn(`Purchase limit reached: Cannot buy more than ${MAX_PURCHASE_QUANTITY} jars total.`);
                
                // Visual feedback for hitting the limit (Red flash)
                if (buttonElement) {
                    const originalText = "Add to Cart";
                    const originalClasses = 'px-6 py-2 add-to-cart-btn text-white rounded-md hover:bg-amber-600 transition-all duration-300';
                    buttonElement.disabled = true;
                    buttonElement.textContent = `Limit Reached (${MAX_PURCHASE_QUANTITY})`;
                    buttonElement.className = 'px-6 py-2 bg-red-500 text-white rounded-md transition-all duration-300 shadow-md';
                    
                    setTimeout(() => {
                        buttonElement.textContent = originalText;
                        buttonElement.className = originalClasses; 
                        buttonElement.disabled = false;
                    }, 1000);
                }
                toggleCart(true); // Open cart to show user limit
                return; 
            }

            const existingItem = cart.find(item => item.id === id);
            const newPrice = price; 

            if (existingItem) {
                if (existingItem.price !== newPrice) {
                    existingItem.price = newPrice;
                }
                existingItem.quantity += 1;
            } else {
                cart.push({ id, name, price: newPrice, quantity: 1 });
            }

            saveCart();
            updateCartUI(); 
            toggleCart(true); 

            // --- Visual Feedback Logic (Green flash on success) ---
            if (buttonElement) {
                const originalText = "Add to Cart";
                const originalClasses = 'px-6 py-2 add-to-cart-btn text-white rounded-md hover:bg-amber-600 transition-all duration-300';
                
                buttonElement.disabled = true;
                buttonElement.textContent = 'Added! ✓';
                buttonElement.className = 'px-6 py-2 bg-green-500 text-white rounded-md transition-all duration-300 shadow-md';
                
                setTimeout(() => {
                    buttonElement.textContent = originalText;
                    buttonElement.className = originalClasses; 
                    buttonElement.disabled = false;
                }, 1000);
            }
            // --- END Visual Feedback Logic ---
        }

        // Function to change item quantity (checks against MAX_PURCHASE_QUANTITY)
        function changeQuantity(id, change) {
            const item = cart.find(item => item.id === id);
            
            if (item) {
                // Check for exceeding the limit when INCREASING quantity
                if (change > 0) {
                    const totalQuantity = getTotalQuantity();
                    const newTotalQuantity = totalQuantity + change;

                    if (newTotalQuantity > MAX_PURCHASE_QUANTITY) {
                        console.warn(`Purchase limit reached: Cannot exceed ${MAX_PURCHASE_QUANTITY} jars total.`);
                        return; // Stop the increase
                    }
                }
                
                item.quantity += change;
                if (item.quantity <= 0) {
                    removeItem(id); // Remove if quantity drops to 0 or less
                } else {
                    saveCart();
                    updateCartUI();
                }
            }
        }

        // Function to remove an item completely
        function removeItem(id) {
            cart = cart.filter(item => item.id !== id);
            saveCart();
            updateCartUI();
        }

        // Function to toggle the cart drawer visibility
        function toggleCart(forceOpen) {
            const drawer = document.getElementById('cart-drawer');
            const isOpen = drawer.classList.contains('translate-x-0');
            
            // Toggle based on current state or forced open
            if (forceOpen === true || !isOpen) {
                drawer.classList.remove('translate-x-full');
                drawer.classList.add('translate-x-0');
            } else {
                drawer.classList.remove('translate-x-0');
                drawer.classList.add('translate-x-full');
            }
        }

        // Initialize cart on page load
        window.addEventListener('load', () => {
            loadCart(); 
            
            // Attach toggle listeners to cart buttons
            document.getElementById('cart-button-desktop').addEventListener('click', () => toggleCart());
            document.getElementById('cart-button-mobile').addEventListener('click', () => toggleCart());
        });
    </script>
</body>
</html>
